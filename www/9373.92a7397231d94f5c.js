"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9373],{9373:(S,d,i)=>{i.r(d),i.d(d,{RegistrarmePage:()=>O});var h=i(467),m=i(9093),p=i(6102),M=i(177),_=i(9417),u=i(2441),o=i(5275),R=i(4740),b=i(5079),g=i(5873),P=i(4842),e=i(3953),C=i(3314),D=i(3420),f=i(4796),I=i(1379);function T(t,c){if(1&t&&(e.j41(0,"ion-select-option",22),e.EFF(1),e.k0s()),2&t){const l=c.$implicit;e.Y8G("value",l.id),e.R7$(),e.SpI(" ",l.nombre," ")}}let O=(()=>{var t;class c{constructor(r,n,s,a){this.router=r,this.bd=n,this.auth=s,this.api=a,this.usuario=new p.P,this.usuarios=[],this.listaNivelesEducacionales=m.H.getNivelesEducacionales(),this.repeatPassword="",(0,b.a)({arrowDownCircle:g.U2Q,trash:g.dco,bookmarkOutline:g.dm8,logOutOutline:g.z_V}),this.bd.listaUsuarios.subscribe(E=>{E&&(this.usuarios=E)})}actualizarDatos(){var r=this;return(0,h.A)(function*(){if(r.usuario.cuenta&&""!==r.usuario.cuenta.trim())if(r.usuario.correo&&""!==r.usuario.correo.trim()&&r.usuario.correo.includes("@"))if(r.usuario.nombre&&""!==r.usuario.nombre.trim())if(r.usuario.apellido&&""!==r.usuario.apellido.trim())if(r.usuario.direccion&&""!==r.usuario.direccion.trim())if(r.usuario.nivelEducacional)if(r.usuario.fechaNacimiento)if(r.usuario.preguntaSecreta&&""!==r.usuario.preguntaSecreta.trim())if(r.usuario.respuestaSecreta&&""!==r.usuario.respuestaSecreta.trim())if(r.usuario.password&&""!==r.usuario.password.trim())if(r.repeatPassword&&""!==r.repeatPassword.trim())if(r.usuario.password===r.repeatPassword)try{if(yield r.bd.buscarUsuarioPorCuenta(r.usuario.cuenta))return void(0,o.S7)("Error",`El usuario con cuenta "${r.usuario.cuenta}" ya est\xe1 registrado.`);if(yield r.bd.buscarUsuarioPorCorreo(r.usuario.correo))return void(0,o.S7)("Error",`El correo "${r.usuario.correo}" ya est\xe1 en uso.`);yield r.bd.guardarUsuario(r.usuario),(0,o.P0)("Usuario registrado con \xe9xito."),r.usuario=new p.P,r.repeatPassword=""}catch(n){(0,o.S7)("Error",`Ocurri\xf3 un problema al registrar el usuario: ${n}`)}else(0,o.P0)("Las contrase\xf1as no coinciden");else(0,o.P0)("Debe repetir la contrase\xf1a");else(0,o.P0)("Debe ingresar una contrase\xf1a");else(0,o.P0)("Debe ingresar una respuesta secreta");else(0,o.P0)("Debe ingresar una pregunta secreta");else(0,o.P0)("Debe seleccionar una fecha de nacimiento");else(0,o.P0)("Debe seleccionar un nivel educacional");else(0,o.P0)("Debe ingresar una direcci\xf3n");else(0,o.P0)("Debe ingresar un apellido");else(0,o.P0)("Debe ingresar un nombre");else(0,o.P0)("Debe ingresar un correo v\xe1lido");else(0,o.P0)("Debe ingresar una cuenta v\xe1lida")})()}actualizarNivelEducacional(r){this.usuario.nivelEducacional=m.H.buscarNivelEducacional(r.detail.value)}limpiarCampos(){this.usuario.cuenta="",this.usuario.correo="",this.usuario.nombre="",this.usuario.apellido="",this.usuario.direccion="",this.usuario.preguntaSecreta="",this.usuario.respuestaSecreta="",this.usuario.password="",this.repeatPassword="",this.usuario.fechaNacimiento=new Date}volverAlInicio(){this.router.navigate(["/ingreso"])}}return(t=c).\u0275fac=function(r){return new(r||t)(e.rXU(C.Ix),e.rXU(D.j),e.rXU(f.u),e.rXU(I.r))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-registrarme"]],standalone:!0,features:[e.aNF],decls:55,vars:58,consts:[[1,"ion-padding-horizontal","page",3,"fullscreen"],["alt","DUOC","src","assets/images/Logoduoc.png",1,"foto-portada"],["id","saludo",1,"ion-text-center"],["id","Cuenta","labelPlacement","floating",3,"ngModelChange","label","ngModel"],["id","Correo","labelPlacement","floating","type","email",3,"ngModelChange","label","ngModel"],["id","Nombre","labelPlacement","floating",3,"ngModelChange","label","ngModel"],["id","Apellido","labelPlacement","floating",3,"ngModelChange","label","ngModel"],["id","Direccion","labelPlacement","floating",3,"ngModelChange","label","ngModel"],["position","floating"],["id","Educacion","position","floating",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["id","FechaNacimiento","labelPlacement","floating",3,"ngModelChange","ngModel","label"],["id","PreguntaSecreta","labelPlacement","floating",3,"ngModelChange","label","ngModel"],["id","RespuestaSecreta","labelPlacement","floating",3,"ngModelChange","label","ngModel"],["id","Contrase\xf1a","labelPlacement","floating","type","password",3,"ngModelChange","label","ngModel"],["id","RepetirContrase\xf1a","labelPlacement","floating","type","password",3,"ngModelChange","label","ngModel"],["id","Guardar","size","medium","color","primary","shape","round",3,"click"],["name","bookmark-outline"],["id","Limpiar","shape","round","color","warning","size","medium",3,"click"],["name","trash"],["id","Volver","shape","round","color","success","size","medium",3,"click"],["name","log-out-outline"],[3,"value"]],template:function(r,n){1&r&&(e.j41(0,"ion-content",0),e.nrm(1,"img",1),e.j41(2,"h4",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ion-item")(6,"ion-input",3),e.nI1(7,"translate"),e.mxI("ngModelChange",function(a){return e.DH7(n.usuario.cuenta,a)||(n.usuario.cuenta=a),a}),e.k0s()(),e.j41(8,"ion-item")(9,"ion-input",4),e.nI1(10,"translate"),e.mxI("ngModelChange",function(a){return e.DH7(n.usuario.correo,a)||(n.usuario.correo=a),a}),e.k0s()(),e.j41(11,"ion-item")(12,"ion-input",5),e.nI1(13,"translate"),e.mxI("ngModelChange",function(a){return e.DH7(n.usuario.nombre,a)||(n.usuario.nombre=a),a}),e.k0s()(),e.j41(14,"ion-item")(15,"ion-input",6),e.nI1(16,"translate"),e.mxI("ngModelChange",function(a){return e.DH7(n.usuario.apellido,a)||(n.usuario.apellido=a),a}),e.k0s()(),e.j41(17,"ion-item")(18,"ion-input",7),e.nI1(19,"translate"),e.mxI("ngModelChange",function(a){return e.DH7(n.usuario.direccion,a)||(n.usuario.direccion=a),a}),e.k0s()(),e.j41(20,"ion-item")(21,"ion-label",8),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"ion-select",9),e.mxI("ngModelChange",function(a){return e.DH7(n.usuario.nivelEducacional,a)||(n.usuario.nivelEducacional=a),a}),e.DNE(25,T,2,2,"ion-select-option",10),e.k0s()(),e.j41(26,"ion-item")(27,"app-date-picker",11),e.nI1(28,"translate"),e.mxI("ngModelChange",function(a){return e.DH7(n.usuario.fechaNacimiento,a)||(n.usuario.fechaNacimiento=a),a}),e.k0s()(),e.j41(29,"ion-item")(30,"ion-input",12),e.nI1(31,"translate"),e.mxI("ngModelChange",function(a){return e.DH7(n.usuario.preguntaSecreta,a)||(n.usuario.preguntaSecreta=a),a}),e.k0s()(),e.j41(32,"ion-item")(33,"ion-input",13),e.nI1(34,"translate"),e.mxI("ngModelChange",function(a){return e.DH7(n.usuario.respuestaSecreta,a)||(n.usuario.respuestaSecreta=a),a}),e.k0s()(),e.j41(35,"ion-item")(36,"ion-input",14),e.nI1(37,"translate"),e.mxI("ngModelChange",function(a){return e.DH7(n.usuario.password,a)||(n.usuario.password=a),a}),e.k0s()(),e.j41(38,"ion-item")(39,"ion-input",15),e.nI1(40,"translate"),e.mxI("ngModelChange",function(a){return e.DH7(n.repeatPassword,a)||(n.repeatPassword=a),a}),e.k0s()(),e.nrm(41,"br"),e.j41(42,"div")(43,"ion-button",16),e.bIt("click",function(){return n.actualizarDatos()}),e.nrm(44,"ion-icon",17),e.EFF(45),e.nI1(46,"translate"),e.k0s(),e.j41(47,"ion-button",18),e.bIt("click",function(){return n.limpiarCampos()}),e.nrm(48,"ion-icon",19),e.EFF(49),e.nI1(50,"translate"),e.k0s(),e.j41(51,"ion-button",20),e.bIt("click",function(){return n.volverAlInicio()}),e.nrm(52,"ion-icon",21),e.EFF(53),e.nI1(54,"translate"),e.k0s()()()),2&r&&(e.Y8G("fullscreen",!0),e.R7$(3),e.JRh(e.bMT(4,28,"Login.Button.Register")),e.R7$(3),e.Y8G("label",e.bMT(7,30,"ACCOUNT")),e.R50("ngModel",n.usuario.cuenta),e.R7$(3),e.Y8G("label",e.bMT(10,32,"EMAIL")),e.R50("ngModel",n.usuario.correo),e.R7$(3),e.Y8G("label",e.bMT(13,34,"NAME")),e.R50("ngModel",n.usuario.nombre),e.R7$(3),e.Y8G("label",e.bMT(16,36,"LAST_NAME")),e.R50("ngModel",n.usuario.apellido),e.R7$(3),e.Y8G("label",e.bMT(19,38,"ADDRESS")),e.R50("ngModel",n.usuario.direccion),e.R7$(4),e.JRh(e.bMT(23,40,"EDUCATION")),e.R7$(2),e.R50("ngModel",n.usuario.nivelEducacional),e.R7$(),e.Y8G("ngForOf",n.listaNivelesEducacionales),e.R7$(2),e.R50("ngModel",n.usuario.fechaNacimiento),e.Y8G("label",e.bMT(28,42,"BIRTH_DATE")),e.R7$(3),e.Y8G("label",e.bMT(31,44,"SECRET_QUESTION")),e.R50("ngModel",n.usuario.preguntaSecreta),e.R7$(3),e.Y8G("label",e.bMT(34,46,"SECRET_ANSWER")),e.R50("ngModel",n.usuario.respuestaSecreta),e.R7$(3),e.Y8G("label",e.bMT(37,48,"PASSWORD")),e.R50("ngModel",n.usuario.password),e.R7$(3),e.Y8G("label",e.bMT(40,50,"REPEAT_PASSWORD")),e.R50("ngModel",n.repeatPassword),e.R7$(6),e.SpI(" ",e.bMT(46,52,"SAVE")," "),e.R7$(4),e.SpI(" ",e.bMT(50,54,"CLEAR.FORUM")," "),e.R7$(4),e.SpI(" ",e.bMT(54,56,"PasswordRecovery.GoBack")," "))},dependencies:[u.iq,P.h,P.D9,M.MD,M.Sq,_.YN,_.BC,_.vS,u.he,u.Ip,u.Jm,u.uz,R.I,u.W9,u.$w]}),c})()}}]);